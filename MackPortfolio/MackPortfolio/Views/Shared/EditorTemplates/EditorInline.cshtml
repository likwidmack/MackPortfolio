@{
    Layout = "~/Views/Shared/EditorTemplates/_LayoutEditor.cshtml";

    object values = ViewData["Model"];
    var htmlValue = HttpUtility.HtmlDecode(ViewData.TemplateInfo.FormattedModelValue.ToString());
    var mdata = ViewData.ModelMetadata;
}
<script type="text/javascript">
    (function () {
        $(function () {
            $('#@ViewData.TemplateInfo.GetFullHtmlFieldId(string.Empty)').redactor({
                changeCallback: function (html) {
                    var _encoded = htmlEncode(html);
                    $('#@ViewData.TemplateInfo.GetFullHtmlFieldId(String.Empty)').val(_encoded);
                },
                air: true
            });
        });
    })();
</script>

<div id="@ViewData.TemplateInfo.GetFullHtmlFieldId("editor")" title="@mdata.Description" class="html-editor">@htmlValue</div>
@*@Html.TextArea("editor", htmlValue, htmlAttr)*@
@Html.HiddenFor(m => m)
